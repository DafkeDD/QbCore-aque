local QBCore = exports['qb-core']:GetCoreObject()

--Consumables
--Cocktails
QBCore.Functions.CreateUseableItem("b52", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("brussian", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("bkamikaze", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("cappucc", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("ccookie", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("iflag", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("kamikaze", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("sbullet", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("voodoo", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("woowoo", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("schnapps", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("gin", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("scotch", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("rum", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("icream", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("amaretto", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("curaco", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)

QBCore.Functions.CreateUseableItem("ambeer", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("dusche", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("logger", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("pisswasser", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("pisswasser2", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
QBCore.Functions.CreateUseableItem("pisswasser3", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:DrinkAlcohol", source, item.name) end)
--Soda
QBCore.Functions.CreateUseableItem("sprunk", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Drink", source, item.name) end)
QBCore.Functions.CreateUseableItem("sprunklight", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Drink", source, item.name) end)
QBCore.Functions.CreateUseableItem("ecola", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Drink", source, item.name) end)
QBCore.Functions.CreateUseableItem("ecolalight", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Drink", source, item.name) end)
QBCore.Functions.CreateUseableItem("cranberry", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Drink", source, item.name) end)
QBCore.Functions.CreateUseableItem("cranberry", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Drink", source, item.name) end)

--Making the food useable
QBCore.Functions.CreateUseableItem("chocolate", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("friedpick", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("maccheese", function(source, item)TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("bplate", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("cplate", function(source, item)	TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("splate", function(source, item)	TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("rplate", function(source, item)	TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("nplate", function(source, item)	TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("wings", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("pickle", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)
QBCore.Functions.CreateUseableItem("nachos", function(source, item) TriggerClientEvent("jim-vanillaunicorn:client:Eat", source, item.name) end)


RegisterServerEvent('jim-vanillaunicorn:GetFood')
AddEventHandler('jim-vanillaunicorn:GetFood', function(ItemMake)
    local Player = QBCore.Functions.GetPlayer(source)
	--COCKTAILS
	if ItemMake == "b52" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['coffee'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['icream'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['orange'], "remove", 1) 
		Player.Functions.RemoveItem('coffee', 1)
		Player.Functions.RemoveItem('icream', 1)
		Player.Functions.RemoveItem('orange', 1)
	elseif ItemMake == "brussian" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['coffee'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['vodka'], "remove", 1) 
		Player.Functions.RemoveItem('coffee', 1)
		Player.Functions.RemoveItem('vodka', 1)
	elseif ItemMake == "bkamikaze" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['lime'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['vodka'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['curaco'], "remove", 1) 
		Player.Functions.RemoveItem('lime', 1)
		Player.Functions.RemoveItem('vodka', 1)
		Player.Functions.RemoveItem('curaco', 1)
	elseif ItemMake == "cappucc" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['coffee'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['chocolate'], "remove", 1) 
		Player.Functions.RemoveItem('coffee', 1)
		Player.Functions.RemoveItem('chocolate', 1)
	elseif ItemMake == "ccookie" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['cranberry'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['amaretto'], "remove", 1) 
		Player.Functions.RemoveItem('cranberry', 1)
		Player.Functions.RemoveItem('amaretto', 1)
	elseif ItemMake == "iflag" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['icream'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['orange'], "remove", 1) 
		Player.Functions.RemoveItem('icream', 1)
		Player.Functions.RemoveItem('orange', 1)
	elseif ItemMake == "kamikaze" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['orange'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['vodka'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['lime'], "remove", 1) 
		Player.Functions.RemoveItem('orange', 1)
		Player.Functions.RemoveItem('vodka', 1)
		Player.Functions.RemoveItem('lime', 1)
	elseif ItemMake == "sbullet" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['gin'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['scotch'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['lime'], "remove", 1) 
		Player.Functions.RemoveItem('gin', 1)
		Player.Functions.RemoveItem('scotch', 1)
		Player.Functions.RemoveItem('lime', 1)
	elseif ItemMake == "voodoo" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['coffee'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['rum'], "remove", 1) 
		Player.Functions.RemoveItem('coffee', 1)
		Player.Functions.RemoveItem('rum', 1)
	elseif ItemMake == "woowoo" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['cranberry'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['vodka'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['schnapps'], "remove", 1) 
		Player.Functions.RemoveItem('cranberry', 1)
		Player.Functions.RemoveItem('vodka', 1)
		Player.Functions.RemoveItem('schnapps', 1)
	--FOOD
	elseif ItemMake == "friedpick" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['pickle'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['cheddar'], "remove", 1) 
		Player.Functions.RemoveItem('pickle', 1)
		Player.Functions.RemoveItem('cheddar', 1)
	elseif ItemMake == "maccheese" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['pasta'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['cheddar'], "remove", 1) 
		Player.Functions.RemoveItem('pasta', 1)
		Player.Functions.RemoveItem('cheddar', 1)
	elseif ItemMake == "bplate" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['meat'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['pasta'], "remove", 1) 
		Player.Functions.RemoveItem('meat', 1)
		Player.Functions.RemoveItem('pasta', 1)
	elseif ItemMake == "cplate" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['fish'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['potato'], "remove", 1) 
		Player.Functions.RemoveItem('fish', 1)
		Player.Functions.RemoveItem('potato', 1)
	elseif ItemMake == "splate" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['meat'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['potato'], "remove", 1) 
		Player.Functions.RemoveItem('meat', 1)
		Player.Functions.RemoveItem('potato', 1)
	elseif ItemMake == "rplate" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['meat'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['lettuce'], "remove", 1) 
		Player.Functions.RemoveItem('meat', 1)
		Player.Functions.RemoveItem('lettuce', 1)
	elseif ItemMake == "nplate" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['nachos'], "remove", 1) 
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['cheddar'], "remove", 1) 
		Player.Functions.RemoveItem('nachos', 1)
		Player.Functions.RemoveItem('cheddar', 1)
	elseif ItemMake == "wings" then
	    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items['meat'], "remove", 1) 
		Player.Functions.RemoveItem('meat', 1)
	end
	--This should give the item, while the rest removes the requirements
	Player.Functions.AddItem(ItemMake, 1, false, {["quality"] = nil})
	TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items[ItemMake], "add", 1) 
end)


---ITEM REQUIREMENT CHECKS
--Cocktails
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:b52', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('coffee') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('icream') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('orange') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:brussian', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('coffee') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('vodka') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:bkamikaze', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('curaco') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('lime') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('vodka') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:cappucc', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('coffee') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('chocolate') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:ccookie', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('amaretto') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('cranberry') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:iflag', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('icream') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('orange') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:kamikaze', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('lime') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('orange') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('vodka') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:sbullet', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('gin') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('lime') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('scotch') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:voodoo', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('coffee') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('rum') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:woowoo', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('cranberry') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('schnapps') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('vodka') ~= nil then cb(true) else cb(false) end end)

--Food
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:friedpick', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('pickle') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('cheddar') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:maccheese', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('pasta') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('cheddar') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:bplate', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('meat') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('pasta') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:cplate', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('fish') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('potato') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:cplate', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('fish') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('potato') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:splate', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('meat') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('potato') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:rplate', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('meat') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('lettuce') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:nplate', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('nachos') ~= nil and QBCore.Functions.GetPlayer(source).Functions.GetItemByName('cheddar') ~= nil then cb(true) else cb(false) end end)
QBCore.Functions.CreateCallback('jim-vanillaunicorn:get:wings', function(source, cb) if QBCore.Functions.GetPlayer(source).Functions.GetItemByName('meat') ~= nil then cb(true) else cb(false) end end)


